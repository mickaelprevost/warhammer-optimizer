{% extends 'base.html.twig' %}

{% block body %}
    <h2 style="text-align:center"> RÃ©sults for {{name.nom}} </h2>
    <div>
        <h2 style="text-align:center;"> Liste of selected items</h2>
        <div style="display:flex; justify-content:center; gap:2rem; margin:2rem 0;">
            {% for item in liste %}
                
                {% if item.picture is not same as null %}
                <img class="gearpics" src="{{asset('asset/images/items/' ~ item.classe.name ~ '/' ~ item.picture)}}">
                {% endif %}
            {% endfor %}
        </div>
    </div>

    <div style="display: grid;grid-template-columns: 800px 815px;justify-content: center;gap: 2rem;">
        <div>
            <h2 style="margin:0;"> Avatar base stats (level 40)</h2>
            <div style="padding: 1rem; display:grid; grid-template-columns: 200px 200px 200px 200px; border: 2px solid black; border-radius:10px;">
                <p> armor = {{basestats.armor}}</p>
                <p> resist = {{basestats.resist}}</p>
                <p> disrupt = {{disruptfromwillpower|number_format(1, '.', ',')}} %</p>
                <p> dodge = {{dodgefrominitiative|number_format(1, '.', ',')}} %</p>
                <p> magic power = {{basestats.magicpower}}</p>
                <p> heal power = {{basestats.healpower}}</p>
                <p> ap/sec = {{basestats.ap}}</p>
                <p> heal crit chance = {{basestats.critheal}} %</p>
                <p> magic crit chance = {{basestats.magiccritchance}} %</p>
                <p> intel = {{basestats.intel}}</p>
                <p> wound = {{basestats.wound}}</p>
                <p> initiative = {{basestats.initiative}}</p>
                <p> toughness = {{basestats.toughness}}</p>
                <p> weapon skill = {{basestats.weaponskill}}</p>
                <p> willpower = {{basestats.willpower}}</p>
                <p> block = {{basestats.block}} %</p>
                <p> parry = {{parryfromweaponskill|number_format(1, '.', ',')}} %</p>
                <p> strenght = {{basestats.strenght}}</p>
                <p> ranged power = {{basestats.rangedpower}}</p>
                <p> melee power = {{basestats.meleepower}}</p>
                <p> ballistic skill = {{basestats.ballisticskill}}</p>
                <p> melee crit chance = {{basestats.meleecritchance}} %</p>
                <p> ranged crit chance = {{basestats.rangedcritchance}} %</p>
            </div>
        </div>

        <div>
            <h2 style="margin:0;"> Renown stats </h2>
            <div style="padding: 1rem;display:grid; grid-template-columns: 200px 185px 210px 200px; border: 2px solid black; border-radius:10px;">
                <p> intel = {{ RenownIntel}}  </p>
                <p> weapon skill = {{RenownWeaponskill}} </p>
                <p> block chance = {{RenownBlock}} %</p>
                <p> dodge / disrupt chance = {{RenownDodgedisrupt}} %</p>
                <p> max ap increase = {{RenownApmax}} </p>
                <p> magic crit chance = {{RenownMagiccrit}} %</p>
                <p> toughness = {{RenownToughness}} </p>
                <p> crit received chances = {{RenownCritreceived}} %</p>
                <p> damage deal/received= {{RenownDamagedealandreceived}} %</p>
                <p> inititative = {{RenownInitiative}}</p>
                <p> sprint boost(sec) = {{RenownSprintboost}}</p>
                <p> ballistic skill = {{RenownBallisticskill}}</p>
                <p> strenght= {{RenownStrenght}}</p>
                <p> melee crit chance= {{RenownMeleecrit}} %</p>
                <p> % move speed up on hit= {{RenownMovespeedonhit}} %</p>
                <p> parry chance = {{RenownParry}} %</p>
                <p> natural regen increase = {{RenownRegenincrease}}</p>
                <p> willpower = {{RenownWillpower}}</p>
                <p> heal crit chance = {{RenownHealcrit}} %</p>
                <p> ranged crit chance = {{RenownRangedcrit}} %</p>
                <p> crit damage reduced = {{RenownCritdamagereceived}} %</p>
                <p> wound = {{RenownWound}}</p>
            </div>
        </div>

        <div>
            <h2 style="margin:0;"> Gear stats </h2>
            <div style="padding: 1rem; display:grid; grid-template-columns: 200px 200px 200px 200px; border: 2px solid black; border-radius:10px;">
                <p> armor = {{armor}}</p>
                <p> resist = {{resist}}</p>
                <p> disrupt = {{disrupt|number_format(1, '.', ',')}}</p>
                <p> dodge = {{dodge|number_format(1, '.', ',')}}</p>
                <p> magicpower = {{magicpower}}</p>
                <p> healpower = {{healpower}}</p>
                <p> ap / sec = {{ap}}</p>
                <p> heal crit chance = {{critheal}} %</p>
                <p> magic crit chance = {{magiccritchance}} %</p>
                <p> intel = {{intel}}</p>
                <p> wound = {{wound}}</p>
                <p> initiative = {{initiative}}</p>
                <p> toughness = {{toughness}}</p>
                <p> weapon skill = {{weaponskill}}</p>
                <p> willpower = {{willpower}}</p>
                <p> block = {{block}} %</p>
                <p> parry = {{parry|number_format(1, '.', ',')}} %</p>
                <p> morale/sec= {{morale}}</p>
                <p> regen pv /4sec = {{regenpv}}</p>
                <p> lower armor pen = {{reducarmorpen}} %</p>
                <p> ballistic skill = {{ballisticskill}}</p>
                <p> strenght = {{strenght}}</p>
                <p> melee crit chance = {{meleecritchance}} %</p>
                <p> ranged crit chance = {{rangedcritchance}} %</p>
                <p> rangedpower = {{rangedpower}}</p>
                <p> meleepower = {{meleepower}}</p>
            </div>
        </div>

        <div>
            <h2 style="margin:0;"> Total stats </h2>
            <div style="padding: 1rem; display:grid; grid-template-columns: 200px 200px 200px 200px; border: 2px solid black; border-radius:10px;">
                <p style="font-weight:bold;"> armor =  {{armor + basestats.armor + talismansarmor + TotalSetBonusArmor}}</p>
                <p style="font-weight:bold;"> resist = {{resist + basestats.resist}}</p>
                <p style="font-weight:bold;"> disrupt = {{disrupt|number_format(1, '.', ',') + disruptfromwillpower|number_format(1, '.', ',') + RenownDodgedisrupt|number_format(1, '.', ',') + DisruptfromRenownWill|number_format(1, '.', ',') + DisruptFromTalismansWill|number_format(1, '.', ',') + TotalSetBonusDisrupt}} %</p>
                <p style="font-weight:bold;"> dodge = {{dodge|number_format(1, '.', ',') + dodgefrominitiative|number_format(1, '.', ',') + RenownDodgedisrupt|number_format(1, '.', ',') + DodgefromRenownIni|number_format(1, '.', ',') + DodgeFromTalismansIni|number_format(1, '.', ',') + TotalSetBonusDodge}} %</p>
                <p style="font-weight:bold;"> magic power = {{magicpower + basestats.magicpower + TotalSetBonusMagicpower}}</p>
                <p style="font-weight:bold;"> heal power = {{healpower + basestats.healpower + TotalSetBonusHealpower}}</p>
                <p style="font-weight:bold;"> ap/sec = {{ap + basestats.ap}} </p>
                <p style="font-weight:bold;"> heal crit chance = {{critheal + basestats.critheal + RenownHealcrit + TotalSetBonusHealcritchance}} %</p>
                <p style="font-weight:bold;"> magic crit chance = {{magiccritchance + basestats.magiccritchance + RenownMagiccrit + TotalSetBonusMagiccritchance}} %</p>
                <p style="font-weight:bold;"> intel = {{intel + basestats.intel + RenownIntel + talismansintel + TotalSetBonusIntel}}</p>
                <p style="font-weight:bold;"> wound = {{wound + basestats.wound + RenownWound + talismanswound + TotalSetBonusWound}}</p>
                <p style="font-weight:bold;"> initiative = {{initiative + basestats.initiative + RenownInitiative + talismansinitiative + TotalSetBonusInitiative}}</p>
                <p style="font-weight:bold;"> toughness = {{toughness + basestats.toughness + RenownToughness + talismanstoughness + TotalSetBonusToughness}}</p>
                <p style="font-weight:bold;"> weapon skill = {{weaponskill + basestats.weaponskill + RenownWeaponskill + talismansweaponskill + TotalSetBonusWeaponskill}}</p>
                <p style="font-weight:bold;"> willpower= {{willpower + basestats.willpower + RenownWillpower + talismanswillpower + TotalSetBonusWillpower}}</p>
                <p style="font-weight:bold;"> block = {{block|number_format(1, '.', ',') + basestats.block|number_format(1, '.', ',') + RenownBlock + TotalSetBonusBlock}} %</p>
                <p style="font-weight:bold;"> parry = {{parry|number_format(1, '.', ',') + parryfromweaponskill|number_format(1, '.', ',') + RenownParry + ParryfromRenownWeaponskill|number_format(1, '.', ',') + ParryFromTalismansWeaponskill|number_format(1, '.', ',') + TotalSetBonusParry}} %</p>
                <p style="font-weight:bold;"> morale/sec= {{morale}} </p>
                <p style="font-weight:bold;"> regen pv /4sec = {{regenpv}}</p>
                <p style="font-weight:bold;"> lower armor pen = {{reducarmorpen + TotalSetBonusReducedarmorpenetration}} %</p>
                {% if templateclass == 'archmage' %} 
                <p style="font-weight:bold;"> dps = {{(intel + basestats.intel + RenownIntel + talismansintel + TotalSetBonusIntel + magicpower + basestats.magicpower + TotalSetBonusMagicpower) / 5}}</p>
                {% endif %}
                {% if templateclass == "choppa" or "black orc" or "witch hunter" %}
                <p style="font-weight:bold;"> dps = {{(strenght + basestats.strenght + RenownStrenght + talismansstrenght + TotalSetBonusStrenght + meleepower + basestats.meleepower + TotalSetBonusMeleepower) / 5}}</p>
                {% endif %}
                <p style="font-weight:bold;"> melee crit chance = {{meleecritchance + basestats.meleecritchance + RenownMeleecrit + TotalSetBonusMeleecritchance}} %</p>
                <p style="font-weight:bold;"> melee power = {{meleepower + basestats.meleepower + TotalSetBonusMeleepower}}</p>
                <p style="font-weight:bold;"> strenght = {{strenght + basestats.strenght + RenownStrenght + talismansstrenght + TotalSetBonusStrenght}}</p>
                <p style="font-weight:bold;"> ranged power = {{rangedpower + basestats.rangedpower + TotalSetBonusRangedpower}}</p>
                <p style="font-weight:bold;"> ranged crit chance = {{rangedcritchance + basestats.rangedcritchance + RenownRangedcrit + TotalSetBonusRangedcritchance}} %</p>
                <p style="font-weight:bold;"> ballistic skill = {{ballisticskill + basestats.ballisticskill + RenownBallisticskill + talismansballisticskill + TotalSetBonusBallisticskill}}</p>
            </div>
        </div>
    </div>
{% endblock %}